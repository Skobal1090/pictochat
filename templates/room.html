    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>{{ title }}</title>
    </head>
    <body>
        <h1>{{ heading }}</h1>
        <input type="text" id="messageInput" placeholder="Type your message">
        <button onclick="sendMessage()">Send</button>
        <a href="../" ><button>Change Name</button></a>
        <div id="messages"></div>

        <script type="text/javascript">
            var socket = new WebSocket('http://127.0.0.1:5000/chatroom');

            function sendMessage() {
                var messageInput = document.getElementById('messageInput');
                if(messageInput.value === "") return;
                var date = new Date();
                var message = {
                    msg : messageInput.value,
                    name : sessionStorage.getItem("displayName"),
                    time : date.toLocaleTimeString('en-US')
                };
                var jsonMessage = JSON.stringify(message);
                socket.send(jsonMessage);
                messageInput.value = '';
            }

            messageInput.addEventListener('keydown', (event) => {
                if(event.key === 'Enter'){
                    sendMessage();
                }
            })

            socket.addEventListener("message", (event) => {
                var jsonMessage = JSON.parse(event.data);
                console.log("Message from server: ", jsonMessage);
                var messageDiv = document.getElementById('messages');
                var msgString = "" + jsonMessage.time + " | " + jsonMessage.name + ": " + jsonMessage.msg;
                messageDiv.innerHTML += '<p>' + msgString + '</p>';
            });

        </script>
    </body>
    </html>